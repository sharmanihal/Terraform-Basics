
### **Data Variables (Data Sources) in Terraform**

**Data sources** let you **fetch information** about resources that **already exist** in your provider (like AWS, GCP, etc.), but were **not created by your Terraform code**.

---

#### **Why Use Data Variables**

* To **query existing infrastructure** (e.g., default VPC, existing AMI).
* To **reference external resources** in your configuration.
* To **avoid hardcoding** IDs or values from your cloud provider.

---

#### **Example**

You didn’t create the default VPC, but you want to use its ID:

```hcl
data "aws_vpc" "default" {
  default = true
}

output "aws_default_vpc_info" {
  value       = data.aws_vpc.default
  description = "Info about the default VPC"
}
```

✅ **Explanation:**

* `data` → keyword to define a data source.
* `"aws_vpc"` → type of data to fetch.
* `"default"` → name for internal reference.
* Terraform queries AWS and fetches details of the default VPC.

---

#### **Accessing Data Source Attributes**

You can access properties just like any other resource:

```hcl
data.aws_vpc.default.id
data.aws_vpc.default.cidr_block
data.aws_vpc.default.arn
```

Example usage:

```hcl
resource "aws_subnet" "example" {
  vpc_id     = data.aws_vpc.default.id
  cidr_block = "10.0.1.0/24"
}
```

---

#### **Summary**

| Feature | Resource                       | Data Source                |
| ------- | ------------------------------ | -------------------------- |
| Purpose | Creates new infra              | Reads existing infra       |
| Keyword | `resource`                     | `data`                     |
| Example | `resource "aws_vpc" "new_vpc"` | `data "aws_vpc" "default"` |
| Access  | `aws_vpc.new_vpc.id`           | `data.aws_vpc.default.id`  |

---

**Tip:**
Use **data sources** whenever you need values from infrastructure you **don’t manage** in your Terraform code (like default VPCs, prebuilt AMIs, or existing IAM roles).
