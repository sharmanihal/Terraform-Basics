### **Version Locking in Terraform**

#### **1. Concept**

* **Version locking** ensures Terraform uses the **same versions** of providers and modules every time you run it.
* It prevents unexpected behavior that might occur if a newer provider or module version introduces changes.
* Similar to how **`package-lock.json`** works in Node.js projects — it “freezes” dependency versions to maintain consistency across environments.

---

#### **2. The Lock File**

When you run:

```bash
terraform init
```

Terraform automatically creates a file:

```
.terraform.lock.hcl
```

* This file stores the **exact versions** of providers (and later modules) used in your project.
* It ensures that every team member or CI/CD pipeline uses **identical versions**, avoiding version mismatches.

---

#### **3. Why It’s Important**

Without version locking:

* Terraform might automatically download the **latest provider version**, which could contain breaking changes.
* This can lead to **inconsistent results** or **failed deployments** across different systems.

With version locking:

* Terraform guarantees reproducibility — same provider, same behavior, every time.

---

#### **4. Summary**

| File                      | Purpose                                                      |
| ------------------------- | ------------------------------------------------------------ |
| `.terraform.lock.hcl`     | Locks provider and module versions to ensure consistent runs |
| `package-lock.json` (npm) | Similar concept in Node.js — locks dependency versions       |

---
